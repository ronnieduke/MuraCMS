var dtCh="/";var dtCh="/";var minYear=1900;var maxYear=2100;var dtFormat=[0,1,2];var dtExample="12/31/2014";function noSpam(a,b){locationstring="mailto:"+a+"@"+b;window.location=locationstring}function isInteger(b){var a;for(a=0;a<b.length;a++){var d=b.charAt(a);if(((d<"0")||(d>"9"))){return false}}return true}function createDate(g){var c=g.split("/");var b=c[0];var e=c[1];var d=c[2];var a=new Date(d,b-1,e);if(!isNaN(a.getMonth())){return a}else{return new Date()}}function dateToString(a){var b=a.getMonth()+1;var d=a.getDate();var c=a.getFullYear();if(b<10){b="0"+b}if(d<10){d="0"+d}return b+"/"+d+"/20"+new String(c).substring(2,4)}function stripCharsInBag(d,e){var b;var a="";for(b=0;b<d.length;b++){var g=d.charAt(b);if(e.indexOf(g)==-1){a+=g}}return a}function daysInFebruary(a){return(((a%4==0)&&((!(a%100==0))||(a%400==0)))?29:28)}function DaysArray(b){for(var a=1;a<=b;a++){this[a]=31;if(a==4||a==6||a==9||a==11){this[a]=30}if(a==2){this[a]=29}}return this}function isDate(d,a){var b=DaysArray(12);var h=d.split(dtCh);if(h.length!=3){return false}var j=h[dtFormat[0]];var g=h[dtFormat[1]];var e=h[dtFormat[2]];strYr=e;if(g.charAt(0)=="0"&&g.length>1){g=g.substring(1)}if(j.charAt(0)=="0"&&j.length>1){j=j.substring(1)}for(var c=1;c<=3;c++){if(strYr.charAt(0)=="0"&&strYr.length>1){strYr=strYr.substring(1)}}month=parseInt(j);day=parseInt(g);year=parseInt(strYr);if(month<1||month>12){return false}if(day<1||day>31||(month==2&&day>daysInFebruary(year))||day>b[month]){return false}if(e.length!=4||year==0||year<minYear||year>maxYear){return false}if(isInteger(stripCharsInBag(d,dtCh))==false){return false}return true}function isEmail(b){var a=b;if(a.indexOf("@")==-1||a.indexOf(".")==-1){return false}else{return true}}function validate(a){return validateForm(a)}function getValidationFieldName(a){if(a.getAttribute("data-label")!=undefined){return a.getAttribute("data-label")}else{if(a.getAttribute("label")!=undefined){return a.getAttribute("label")}else{return a.getAttribute("name")}}}function getValidationIsRequired(a){if(a.getAttribute("data-required")!=undefined){return(a.getAttribute("data-required").toLowerCase()=="true")}else{if(a.getAttribute("required")!=undefined){return(a.getAttribute("required").toLowerCase()=="true")}else{return false}}}function getValidationMessage(a,b){if(a.getAttribute("data-message")!=undefined){return a.getAttribute("data-message")+"\n"}else{if(a.getAttribute("message")!=undefined){return a.getAttribute("message")+"\n"}else{return getValidationFieldName(a).toUpperCase()+b+"\n"}}}function getValidationType(a){if(a.getAttribute("data-validate")!=undefined){return a.getAttribute("data-validate").toUpperCase()}else{if(a.getAttribute("validate")!=undefined){return a.getAttribute("validate").toUpperCase()}else{return""}}}function hasValidationMatchField(a){if(a.getAttribute("data-matchfield")!=undefined&&a.getAttribute("data-matchfield")!=""){return true}else{if(a.getAttribute("matchfield")!=undefined&&a.getAttribute("matchfield")!=""){return true}else{return false}}}function getValidationMatchField(a){if(a.getAttribute("data-matchfield")!=undefined){return a.getAttribute("data-matchfield")}else{if(a.getAttribute("matchfield")!=undefined){return a.getAttribute("matchfield")}else{return""}}}function hasValidationRegex(a){if(a.value!=undefined){if(a.getAttribute("data-regex")!=undefined&&a.getAttribute("data-regex")!=""){return true}else{if(a.getAttribute("regex")!=undefined&&a.getAttribute("regex")!=""){return true}}}else{return false}}function getValidationRegex(a){if(a.getAttribute("data-regex")!=undefined){return a.getAttribute("data-regex")}else{if(a.getAttribute("regex")!=undefined){return a.getAttribute("regex")}else{return""}}}function validateForm(g){var k="";var d=0;var h=false;var e;var c;var j="";var b=g.getElementsByTagName("input");for(f=0;f<b.length;f++){theField=b[f];j=getValidationType(theField);if(theField.style.display==""){if(getValidationIsRequired(theField)&&theField.value==""){if(!h){h=true;e=f;c="input"}k+=getValidationMessage(theField," is required.")}else{if(j!=""){if(j=="EMAIL"&&theField.value!=""&&!isEmail(theField.value)){if(!h){h=true;e=f;c="input"}k+=getValidationMessage(theField," must be a valid email address.")}else{if(j=="NUMERIC"&&isNaN(theField.value)){if(!isNaN(theField.value.replace(/\$|\,|\%/g,""))){theField.value=theField.value.replace(/\$|\,|\%/g,"")}else{if(!h){h=true;e=f;c="input"}k+=getValidationMessage(theField," must be numeric.")}}else{if(j=="REGEX"&&theField.value!=""&&hasValidationRegex(theField)){var l=new RegExp(getValidationRegex(theField));if(!theField.value.match(l)){if(!h){h=true;e=f;c="input"}k+=getValidationMessage(theField," is not valid.")}}else{if(j=="MATCH"&&hasValidationMatchField(theField)&&theField.value!=g[getValidationMatchField(theField)].value){if(!h){h=true;e=f;c="input"}k+=getValidationMessage(theField," must match"+getValidationMatchField(theField)+".")}else{if(j=="DATE"&&theField.value!=""&&!isDate(theField.value)){if(!h){h=true;e=f;c="input"}k+=getValidationMessage(theField," must be a valid date [MM/DD/YYYY].")}}}}}}}}}var a=g.getElementsByTagName("textarea");for(f=0;f<a.length;f++){theField=a[f];j=getValidationType(theField);if(theField.style.display==""&&getValidationIsRequired(theField)&&theField.value==""){if(!h){h=true;e=f;c="textarea"}k+=getValidationMessage(theField," is required.")}else{if(j!=""){if(j=="REGEX"&&theField.value!=""&&hasValidationRegex(theField)){var l=new RegExp(getValidationRegex(theField));if(!theField.value.match(l)){if(!h){h=true;e=f;c="input"}k+=getValidationMessage(theField," is not valid.")}}}}}var m=g.getElementsByTagName("select");for(f=0;f<m.length;f++){theField=m[f];j=getValidationType(theField);if(theField.style.display==""&&getValidationIsRequired(theField)&&theField.options[theField.selectedIndex].value==""){if(!h){h=true;e=f;c="select"}k+=getValidationMessage(theField," is required.")}}if(k!=""){alert(k);if(c=="input"){b[e].focus()}else{if(c=="textarea"){a[e].focus()}else{if(c=="select"){m[e].focus()}}}return false}else{return true}}function getURLVar(e){var d=String(document.location).split("?");var c="";if(d[1]){var b=d[1].split("&");for(i=0;i<=(b.length);i++){if(b[i]){var a=b[i].split("=");if(a[0]&&a[0]==e){c=a[1]}}}}return unescape(c)}function submitForm(c,b,d){if(validateForm(c)){if(typeof(b)!="undefined"&&(b=="delete"&&confirm("Delete "+d+"?")||b!="delete")){var a=c.getElementsByTagName("input");for(f=0;f<a.length;f++){if(a[f].getAttribute("name")=="action"){a[f].setAttribute("value",b)}}}c.submit();formSubmitted=true}return false}function isMacIE5(){var b=navigator.userAgent.toLowerCase();var a=(b.indexOf("msie")!=-1);var c=(b.indexOf("mac")!=-1);if(c&&a){return false}else{return true}}function createCookie(c,d,e){if(e){var b=new Date();b.setTime(b.getTime()+(e*24*60*60*1000));var a="; expires="+b.toGMTString()}else{var a=""}document.cookie=c+"="+d+a+"; path=/"}function readCookie(b){var e=b+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var g=a[d];while(g.charAt(0)==" "){g=g.substring(1,g.length)}if(g.indexOf(e)==0){return unescape(g.substring(e.length,g.length))}}return""}function eraseCookie(a){createCookie(a,"",-1)}function setMuraImageOffSets(a){setImageOffSets(a,"class","syndLocal");setImageOffSets(a,"id","portal")}function setImageOffSets(d,j,c){if(j=="class"){var a=document.getElementsByClassName(c)}else{var a=new Array(1);a[0]=document.getElementById(c)}if(a[0]!=null){for(var b=0;b<a.length;b++){var h=a[b].getElementsByTagName("DL");for(var e=0;e<h.length;e++){var g=null;if(h[e].getElementsByTagName("DD").length>0){var l=h[e].getElementsByTagName("DD")[0];if(l.getElementsByTagName("IMG").length>0){g=l.getElementsByTagName("IMG")[0]}else{if(l.getElementsByTagName("P").length>0){var k=l.getElementsByTagName("P");for(var b=0;b<k.length;b++){if(k[b].getElementsByTagName("IMG").length>0){g=k[b].getElementsByTagName("IMG")[0];break}}}}if(g!=null){title=new Element.extend(h[e].getElementsByTagName("DT")[0]);g.onload=function(){var q=0;if(this.parentNode.parentNode.getElementsByTagName("DT")[0]!=undefined){var n=new Element.extend(this.parentNode.parentNode)}else{var n=new Element.extend(this.parentNode.parentNode.parentNode)}var s=new Element.extend(n.getElementsByTagName("DT")[0]);q=s.getHeight();var o=n.getElementsByTagName("DD")[0].getElementsByTagName("P");if(o.length){for(var r=0;r<o.length;r++){if(o[r].getElementsByTagName("IMG").length){break}else{var m=new Element.extend(o[r]);m.style.marginLeft=this.width+d+"px";q=q+m.getHeight()+m.style.marginBottom+m.style.marginTop}}}s.style.marginLeft=this.width+d+"px";this.style.marginTop=-q+"px";obj.style.cssFloat="left"}}}}}}}sfHover=function(){if(document.getElementById("navPrimary")!=undefined){var b=document.getElementById("navPrimary").getElementsByTagName("LI");for(var a=0;a<b.length;a++){b[a].onmouseover=function(){this.className+=" sfhover"};b[a].onmouseout=function(){this.className=this.className.replace(new RegExp(" sfhover\\b"),"")}}}};if(window.attachEvent){window.attachEvent("onload",sfHover)}function addLoadEvent(a){var b=window.onload;if(typeof window.onload!="function"){window.onload=a}else{window.onload=function(){b();a()}}}function addUnloadEvent(b){var a=window.onunload;if(typeof window.onunload!="function"){window.onunload=b}else{window.onunload=function(){a();b()}}}function keyCheck(c){var b=(window.event)?event.keyCode:c.keyCode;if(typeof(pressed_keys)=="undefined"){pressed_keys=""}if(b==27){pressed_keys=b}else{if(b==76){pressed_keys=pressed_keys+""+b}}if(b!=27&&b!=76){pressed_keys=""}if(pressed_keys!=""){var a=pressed_keys;if(a.indexOf("2776")!=-1&&location.search.indexOf("display=login")==-1){if(typeof(loginURL)=="undefined"){lu="?display=login"}else{lu=loginURL}if(typeof(returnURL)=="undefined"){ru=location.href}else{ru=returnURL}pressed_keys="";lu=new String(lu);if(lu.indexOf("?")!=-1){location.href=lu+"&returnUrl="+escape(ru)}else{location.href=lu+"?returnUrl="+escape(ru)}}}}function setKeyCheck(){document.onkeydown=keyCheck}function fadeToggle(a){if(jslib=="jquery"){$("#"+a).animate({opacity:"toggle"})}else{Effect.toggle(a,"appear")}}function setHTMLEditors(b,g,e){var j=document.getElementsByTagName("textarea");var h=new Array();for(i=0;i<j.length;i++){if(j[i].className.toLowerCase()=="htmleditor"){if(htmlEditorType=="fckeditor"){var d=new FCKeditor(j[i].id);d.ToolbarSet="htmlEditor";d.Config.EditorAreaCSS=themepath+"/css/editor.css";d.Config.StylesXmlPath=themepath+"/css/fckstyles.xml";d.BasePath=context+"/wysiwyg/";d.Height=b;d.Width=g;d.Config.ImageBrowser=false;d.Config.ImageUpload=false;d.Config.ForcePasteAsPlainText=true;d.Config.StartupFocus=false;d.ReplaceTextarea();h.push(d)}else{var a=CKEDITOR.instances[j[i].id];var c={height:b,width:g};if(e!=null){c=extendObject(c,e)}if(a){CKEDITOR.remove(a)}jQuery("#"+j[i].id).ckeditor(getHTMLEditorConfig(c),htmlEditorOnComplete)}}}}var HTMLEditorLoadCount=0;function htmlEditorOnComplete(c){if(htmlEditorType=="fckeditor"){c.ResetIsDirty();var b=FCKeditorAPI.Instances}else{var a=jQuery(c).ckeditorGet();a.resetDirty();var b=CKEDITOR.instances}}function extendObject(c,b){for(var a in b){c[a]=b[a]}return c}function getHTMLEditorConfig(a){var b="";var c={toolbar:"htmlEditor",customConfig:"config.js.cfm"};if(typeof(a)=="object"){c=extendObject(c,a)}return c}addLoadEvent(setKeyCheck);